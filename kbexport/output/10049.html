<h1>Set Security fails</h1><h2>10049</h2><h3>Introduction</h3><p>Set Security fails with a SQL error. </p><h3>Symptom</h3><p><P>Set security fails with a SQL Error.  The problem occurs with both “Set Security Standard“ and “Set Security App Role“.  The SQL erro includes the phrase “<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">Invalid object name...”.  </SPAN></P><P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">For example:</SPAN></P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"><P class=MsoNormal><FONT face=Arial size=2><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">4.05.33.7 (7/27/2004) >>> u_sqlca - (execute_script()) Error Executing SQL Statement:  </SPAN></FONT></P><P class=MsoNormal><FONT face=Arial size=2><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">/*     jmjrpt_lab_results_pending.PRC*/  </SPAN></FONT></P><P class=MsoNormal><FONT face=Arial size=2><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">GRANT  EXECUTE ON [dbo].[jmjrpt_lab_results_pending] to [cprsystem]  </SPAN></FONT></P><P class=MsoNormal><FONT face=Arial size=2><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">SQL ERROR = (208) SQLSTATE = 42S02  </SPAN></FONT></P><P class=MsoNormal><FONT face=Arial size=2><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">Microsoft OLE DB Provider for SQL Server  </SPAN></FONT></P><P class=MsoNormal><FONT face=Arial size=2><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">Invalid object name 'dbo.jmjrpt_lab_results_pending'. 4.05.33.7 (7/27/2004) >>> u_sqlca - (bootstrap_database_scripts()) scripts update not found </SPAN></FONT></P></SPAN></p><h3>Cause</h3><p>This error is caused by permission scripts existing in the customer database for objects that do not exist yet in the customer database.  This can happen when the database has not yet been updated to the latest Database or Reports version.</p><h3>Workaround</h3><p><P>First, make sure "Check Now" completes successfully, Then, upgrade the Database and Reports systems to their latest versions, and click the “Set Security” button again.</P><P>If the "Check Now" and upgrades worked but "Set Security" still fails, then go to the Utilites tab and find the "Permissions CPRSystem" script.  Use the "Save As" button to save the script to a sql file and run the script in Query Analyzer.  It will still report errors but it should set the permissions for all the db objects that exist, so EncounterPRO should be fully operational.</P></p><h3>Resolution</h3><p>This has been determined to be a problem with the EncounterPRO Server Set Security button.  It has been reported as dev issue # 5267.</p><h3>Notes</h3><p>If "Check Now" fails, see article 10616.</p>