<h1>Error Updating Database Scripts</h1><h2>10085</h2><h3>Introduction</h3><p>Clicking "Check Now" button on the DB Maintenance/Updates screen sometimes returns an error.</p><h3>Symptom</h3><p><P>Clicking "Check Now" button on the DB Maintenance/Updates screen pops up a message saying "An error occured while checking for upgrades".&nbsp; The event viewer contains a more detailed SQL error message such as:</P><P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial">Cannot insert the value NULL into column 'created', table 'cpr.dbo.c_Database_Script'; column does not allow nulls.</SPAN></P><P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"></SPAN>&nbsp;</P></p><h3>Cause</h3><p><P>The client SQL Server may not have a valid connection to the Sync Database.</P><P>Also, the c_Database_Script table underwent several changes in mod level 120 and 121.&nbsp; These changes should be backwards compatible but since all upgrades go through the c_Database_Script table, updates to the c_Database_Script table itself are sometimes problematic.</P></p><h3>Workaround</h3><p><P>The first thing to do is make sure that the Remote Server is available.&nbsp; On the main tab of DB Maintenance, click "Set Remote Server".&nbsp; If that succeeds, then click "Check Remote Server".&nbsp; If that succeeds then try the "Check Now" on the Updates tab again.</P><P>EncounterPRO is usually able to fix the c_Database_Script table during a "Check Now" operation.&nbsp; This is true even when it presents an error the first time.&nbsp; The first thing to try is to install EPRO Server and disable the services and restart DB Maintenance and click "Check Now" again. </P></p><h3>Resolution</h3><p><P>If EncounterPRO is unable to fix the c_Database_Script table to the point where it can successfully perform "Check Now", you can manually apply the fixes to the c_Database_xxx tables by executing the SQL script found in the Workaround section of KB Article 10147.</P><P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"><A title=https://www.jmjtech.com/kb/Article.aspx?ArticleNumber=10147 href="https://www.jmjtech.com/kb/Article.aspx?ArticleNumber=10147">Article #10147 - EncounterPRO Server won't run with an old database</A></SPAN></P><P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: Arial"></SPAN>&nbsp;</P></p><h3>Notes</h3><p></p>