<h1>Upgrade Procedures for Version 4.05.xx</h1><h2>10331</h2><h3>Introduction</h3><p><br></p><h3>Symptom</h3><p><br></p><h3>Cause</h3><p><br></p><h3>Workaround</h3><p><br></p><h3>Resolution</h3><p><p><i style=""><span style="font-family: Arial;">Create an issue in Outlook and copy this document into the issue.<span style="">&nbsp; </span>Whiledoing the upgrade if there are any unusual behaviors or problems withthe upgrade,&nbsp;then&nbsp;document within the issue&nbsp;exactly whathappenned.</span></i><span style="font-family: Arial;"> <i style=""><o:p></o:p></i></span></p><p class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;"><o:p>&nbsp;</o:p></span></p><ol style="margin-top: 0in;" type="1"><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">ChangeRDP Settings - If there is an idle session limit set then change it tonever but remember what it was set to so you can set it back when theupgrade is done.<span style="">&nbsp; </span>If you plan on disconnecting while doing the upgrade make sure you set the End a disconnected session to never also. <o:p></o:p></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Backup of EncounterPRO Database using the backup file name Pre405Upgrade and save to<span style="">&nbsp;&nbsp; </span>\Program Files\Microsoft SQL Server\MSSQL\BACKUP <o:p></o:p></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Usingthe Import Data in SQL feature create a new database and copy alltables except p_tables and name it cprpre405 and create Access link todatabase cprpre405 <o:p></o:p></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;"><span style="font-family: Arial;">Copy entire contents of EncounterPRO CD to the Hard Drive<o:p></o:p></span><font face="Times New Roman"> </font></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Stop EncounterPRO Services and all instances of EncounterPRO, EPROServer and EncounterPROService</span> </li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Install EncounterPRO Client <o:p></o:p></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Install EPRO Server <o:p></o:p></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Update Database <o:p></o:p></span><ol style="margin-top: 0in;" type="a"><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">If the Attachment Filegroup has not been created <a href="https://www.jmjtech.com/kb/Article.aspx?ArticleNumber=10332">Click Here</a> <o:p></o:p></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">If the Mod Level is less than 109 <a href="https://www.jmjtech.com/KB/images/10331/UpdateModlevelto107.htm">Click Here</a> <br></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">if the client is earlier than 4.05.32.xx then...<br></span></li>      <ol>        <li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;"><a href="https://www.jmjtech.com/kb/images/10331/CheckSyncStatus.txt">Check Synch Status</a> to verify that they have been Synched <o:p></o:p></span>        </li>        <li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;"><a href="https://www.jmjtech.com/kb/images/10331/BeenSynched.htm">Click Here</a> to go to Synch Procedures(Been Synched)&nbsp; <o:p></o:p></span>        </li>        <li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;"><a href="https://www.jmjtech.com/kb/images/10331/NeverBeenSynched.htm">Click Here</a> to go to Synch Procedures(Never Been Synched) <o:p></o:p></span></li>      </ol></ol></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Reset the database objects (KB Article 10622)<br></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Change RDP settings back</span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Copy client files <o:p></o:p></span><ol style="margin-top: 0in;" type="a"><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Create “EncounterPRO” directory under CPRFiles\Install if not already created <o:p></o:p></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Copy client install files to the EncounterPRO directory<o:p></o:p></span></li></ol></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">UpdateServices Configuration to New Format and ensure that they successfullystart. Delete all old user accounts from Active Directory <o:p></o:p></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">If client is on Millbrook ensure that the application opens successfully.&nbsp; <o:p></o:p></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">RAR the pre-upgrade backup <o:p></o:p></span></li><li class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: Arial;">Schedule a task in the Issues calendar, cc jmj-support, to delete the pre-upgrade backup one week after the upgrade <o:p></o:p></span></li></ol></p><h3>Notes</h3><p><br></p>