<h1>Duplicate GRITS Eligibility Codes</h1><h2>10356</h2><h3>Introduction</h3><p>This article explains what to do if there are 2 or more instances of GRITS Vaccien Eligibility.<br></p><h3>Symptom</h3><p>Going to Config, Reports, General or Encounter, selecting the GRITSreport, Default, in the first screen selecting the Vaccine Eligibilitybar, searching by Description for all non-speciality observations wherename contains GRITS, you find two or more results.<br><br>Example:<br><img src="https://www.jmjtech.com/kb/images/10356/10356.bmp"></p><h3>Cause</h3><p>This observation was entered twice. Once while running the configscripts for setting up this observation, and once manually by some onetrying to set these observations up thru the epro interface. These twotimes were not necessarily in that order.<br></p><h3>Workaround</h3><p><ol>  <li>In c_observation, find out the observation ids of these twoobservations. Start by filtering for description like "GRITS*". Let'scall them obsX and obsY<br>  </li>  <li>Withthe observation ids in step 1, go to c_observation_tree and find thechildren observation ids. With these, find which child of obsX matcheswith which child of obsY. Let's say obsX.child1=obsY.child1,obsX.child2=obsY.child2 and so on.<br>  </li>  <li>In c_report_definition, get the report_ids of the two GRITS reports. Let's call them Rid1 and Rid2<br>  </li>  <li>Go to c_Workplan and filter for wokplan_ids where description like "Vaccine for GRITS*". Let's call them WP1, WP2, etc<br>  </li>  <li>In c_Workplan_Item_attribute, filter for the wokplan_ids from step 4. <br>  </li>  <ol>    <li>Where attribute=observation_id, the most commonly used value will be the observation_id we'll keep. Let's say it's obsX</li>  </ol>  <li>Run the query in Notes below after replacing all the values at the top of the query</li><li>In c_observation, set obsY to NA<br>  </li></ol></p><h3>Resolution</h3><p>Don't create duplicate GRITS Eligibility codes!<br></p><h3>Notes</h3><p>--replace the follow with correct values before running:<br>-- #obsX#<br>-- #obsY#<br>-- #WP1#<br>-- #WP2#<br>-- #WP3#<br>-- #Rid1#<br>-- #Rid2#<br>-- #obsXChild1#<br>-- #obsXChild2#<br>-- #obsXChild3#<br>-- #obsXChild4#<br>-- #obsXChild5#<br>-- #obsXChild6#<br>-- #obsYChild1#<br>-- #obsYChild2#<br>-- #obsYChild3#<br>-- #obsYChild4#<br>-- #obsYChild5#<br>-- #obsYChild6#<br><br>UPDATE c_workplan_Item_Attribute<br>SET value='#obsX#'<br>WHERE value='#obsY#' and (workplan_id=#WP1# or workplan_id=#WP2# or workplan_id=#WP3#)<br><br>UPDATE c_report_attribute<br>SET value='#obsX#'<br>WHERE attribute='PROGKEY_ELIG' and (report_id='#Rid1#' or report_id='#Rid2#')<br><br>UPDATE p_treatment_item<br>SET observation_id='#obsX#'<br>WHERE observation_id='#obsY#'<br><br>UPDATE p_observation_result<br>SET observation_id='#obsX#'<br>WHERE observation_id='#obsY#'<br><br>UPDATE p_observation_result<br>SET observation_id='#obsXChild1#'<br>WHERE observation_id='#obsYChild1#'<br><br>UPDATE p_observation_result<br>SET observation_id='#obsXChild2#'<br>WHERE observation_id='#obsYChild2#'<br><br>UPDATE p_observation_result<br>SET observation_id='#obsXChild3#'<br>WHERE observation_id='#obsYChild3#'<br><br>UPDATE p_observation_result<br>SET observation_id='#obsXChild4#'<br>WHERE observation_id='#obsYChild4#'<br><br>UPDATE p_observation_result<br>SET observation_id='#obsXChild5#'<br>WHERE observation_id='#obsYChild5#'<br><br>UPDATE p_observation_result<br>SET observation_id='#obsXChild6#'<br>WHERE observation_id='#obsYChild6#'<br><br>UPDATE p_observation<br>SET observation_id='#obsX#'<br>WHERE observation_id='#obsY#'<br><br>UPDATE p_observation<br>SET observation_id='#obsXChild1#'<br>WHERE observation_id='#obsYChild1#'<br><br>UPDATE p_observation<br>SET observation_id='#obsXChild2#'<br>WHERE observation_id='#obsYChild2#'<br><br>UPDATE p_observation<br>SET observation_id='#obsXChild3#'<br>WHERE observation_id='#obsYChild3#'<br><br>UPDATE p_observation<br>SET observation_id='#obsXChild4#'<br>WHERE observation_id='#obsYChild4#'<br><br>UPDATE p_observation<br>SET observation_id='#obsXChild5#'<br>WHERE observation_id='#obsYChild5#'<br><br>UPDATE p_observation<br>SET observation_id='#obsXChild6#'<br>WHERE observation_id='#obsYChild6#'<br></p>