<h1>Changing the encounter type doesn't cancel original workplan items</h1><h2>10376</h2><h3>Introduction</h3><p></p><h3>Symptom</h3><p>When the user changes the encounter type, EncounterPRO prompts the user with "The Encounter Type has been changed.&nbsp; Do you wish to cancel the existing encounter workplan and order a new one?"&nbsp; If the user selects "Yes" then EncounterPRO cancells the current encounter workplan and orders a new one.&nbsp; However, some of the services of the cancelled workplan still appear to be active.</p><h3>Cause</h3><p>This problem is caused by the manner in which workplans were cancelled.&nbsp; A cancelled workplan would step through each of its workplan items one at a time and cancel it.&nbsp; However, cancelling some of the workplan items would trigger other items to be dispatched.&nbsp; These dispatched workplan items were not in turn being cancelled.</p><h3>Workaround</h3><p><P>The stored procedure which cancells workplans is updated with the correct login in Hotfix 80.&nbsp; If the database is not yet at Mod Level 121-126, then upgrade the database.</P><P>Once the database is at Mod Level 121 - 126, apply Hotfix 80.</P></p><h3>Resolution</h3><p>This problem is fixed in Database Mod Level 127.</p><h3>Notes</h3><p><P>* change of the encounter type works best if it's done in waiting room</P><P>* if the encoutner is moved to exam room and there are some services performed then the user attempt to cancel the encoutner type then it tries to cancel all the pending workplan steps except the 'Started' (activated but said i'll be back) services.</P></p>