<h1>Fixing  stuck  messages or ToDo items</h1><h2>10570</h2><h3>Introduction</h3><p>Sometimes a ToDo or a message gets "stuck" and you need to fix it.<BR></p><h3>Symptom</h3><p>A user clicks on a ToDo or a message and the screen blinks but does not display the item and the two red II show in the corner - the error message in the Event Viewer says "u_component_service - (do_service()) patient context but no cpr_id"<BR></p><h3>Cause</h3><p></p><h3>Workaround</h3><p>Go to p_patient_wp_item, (u_todo_list in v2) filter for status = DISPATCHED and owned_by = the user_id of the patient who has the stuck message / ToDo.&nbsp; If there are multiple rows left, look for the ones with ordered_service = message or Todo.<BR>Copy the patient_workplan_item_id and filter of rit in the p_patient_wp_item_attribute <BR><BR>If the message is supposed to be part of the patient record, there should be the following rows in p_patient_wp_item_attribute:<BR><BR>attribute&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value<BR>context_object&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Patient<BR>message_object&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Patient<BR>cpr_id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (whatever the cpr_id is)<BR><BR>If the user *says* that the message or todo is supposed to be patient-related, then copy the cpr_id value and paste it into the cpr_id field in the p_patient_wp_item<BR><BR>Otherwise, and delete any of the rows in p_patient_wp_item_attribute for that wp_item_id that look like the examples above.<BR><BR></p><h3>Resolution</h3><p></p><h3>Notes</h3><p></p>