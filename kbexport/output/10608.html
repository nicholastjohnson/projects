<h1>How to release new EncounterPRO installers</h1><h2>10608</h2><h3>Introduction</h3><p><P><STRONG><FONT size=4>Prerequisites:</FONT></STRONG></P><P>EncounterPRO installers are compiled using <A href="http://nsis.sourceforge.net/Download">NSIS</A>. You must have this installed on the machine you want to use to compile the installations. It's only about 1.4 MB<BR>Additionally, you must have access to \\techserv\devel, as that is where the install scripts and source files are located.<BR>Finally, you must have Microsoft Visual SourceSafe installed.</P></p><h3>Symptom</h3><p></p><h3>Cause</h3><p></p><h3>Workaround</h3><p></p><h3>Resolution</h3><p><P><STRONG>Before you edit the installation script, you have to&nbsp;configure VSS:<BR></STRONG>using the VSS database in <A href="file://techserv/devel/VSS">\\techserv\devel\VSS</A>:<BR>Set the working folder for "$/Installs/NSIS/EncounterPRO 4" to <A href="file://techserv/devel/NSIS/EncounterPRO%204">\\techserv\devel\NSIS\EncounterPRO 4</A><BR>Set the working folder for "$/Installs/NSIS/EncounterPRO&nbsp;5" to <A href="file://techserv/devel/NSIS/EncounterPRO%205">\\techserv\devel\NSIS\EncounterPRO 5</A></P><P><STRONG>Check out the script you need to edit:<BR></STRONG>EncounterPRO 4&nbsp;is "$/Installs/NSIS/EncounterPRO 4/EncounterPRO 4.nsi"<BR>EncounterPRO 5 is "$/Installs/NSIS/EncounterPRO 5/EncounterPRO 5.nsi"</P><P><STRONG>Edit the script in Notepad:<BR></STRONG>Locate your script in <A href="file://techserv/devel/NSIS">\\techserv\devel\NSIS</A> and edit it with notepad by right-clicking on the script file and choosing "Open With..." from the menu.<BR><BR><STRONG>Change the Installer Version:<BR></STRONG>Edit the PRODUCT_VERSION definition to match the build of EncounterPRO Client you are compiling.&nbsp;This is the version that is used&nbsp;when checking for product updates for EncounterPRO Client when the application starts.<BR>Ex:<BR><CODE>!define PRODUCT_VERSION "4.34.25"</CODE></P><P><STRONG>Change the EncounterPRO Files source directory:<BR></STRONG>Edit the SRC_EPRO definition to point to the location where the EncounterPRO exe and pbd files can be found.<BR>Ex:<BR><CODE>!define SRC_EPRO "${SRC_COMMON}\Program Files\Epro Client 4.05.34\Epro Client 34.20"<BR></CODE><BR>(Please note that <CODE>${SRC_COMMON}</CODE> evaluates to <A href="file://\\techserv\devel\common">\\techserv\devel\common</A> at compile time.)</P><P><STRONG>Save changes and compile the script:<BR></STRONG>Save the changes you made to the installation script and then compile the script by right clicking on the script file and choosing "Compile NSIS Script" from the menu.</P><P>The installation files will be placed in a subdirectory for the version you specified in the script once the compile has completed.</P><P><STRONG>Don't forget to check the script file back into VSS!</STRONG></P><P><STRONG>Test the installer</STRONG></P><P><STRONG>Copy the installer to the FTP site under EP_Upgrades\Testing\4.05\EncounterPRO, creating a new version subdirectory if necessary</STRONG></P><P><STRONG>You're done now!</STRONG></P></p><h3>Notes</h3><p></p>