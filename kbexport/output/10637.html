<h1>How to add or update the default treatment modes in user personal or common lists for a given observation ids</h1><h2>10637</h2><h3>Introduction</h3><p>this article explains how to add or update the treatment modes for a given observation id in user personl or common lists.</p><h3>Symptom</h3><p></p><h3>Cause</h3><p></p><h3>Workaround</h3><p></p><h3>Resolution</h3><p><P>Run the following query by filling in one or more observation id(s) seperated by commas to insert or update the default treatment modes for an existing user personal or common lists.</P><P>&nbsp;</P><P><STRONG><U>Hints:</U></STRONG><BR>* Replace the <NEW mode treatment>to the treatment mode you want to be added or updated.<BR>* Replace the INSERT OBSERVATION IDS HERE with the actual observation id's in single quotes and seperated by&nbsp; comma&nbsp;&nbsp;if there are more than one.</P><P><STRONG>QUERY#1 :</STRONG> Following query Updates if the treatment mode already found and replaces with the new one </P><P>UPDATE u_assessment_treat_def_attrib<BR>SET value = '<NEW mode treatment>'<BR>WHERE attribute = 'treatment_mode'<BR>AND definition_id IN<BR>(SELECT definition_id FROM u_assessment_treat_def_attrib<BR>WHERE attribute = 'observation_id' AND value IN<BR>(INSERT OBSERVATION IDS HERE))<BR>GO</P><P><STRONG>QUERY#2 :</STRONG> Following query Adds the treatment mode if the treatment mode attribute is not found</P><P>INSERT INTO u_assessment_treat_def_attrib<BR>(definition_id,<BR>attribute,<BR>value<BR>)</P><P>SELECT DISTINCT<BR>definition_id,<BR>'treatment_mode',<BR>'<NEW mode treatment>'</P><P>FROM u_assessment_treat_def_attrib</P><P>WHERE definition_id IN </P><P>(SELECT definition_id FROM u_assessment_treat_def_attrib<BR>WHERE attribute = 'observation_id' AND value IN<BR>(INSERT OBSERVATION IDS HERE)</P><P>AND definition_id NOT IN <BR>(SELECT definition_id FROM u_assessment_treat_def_attrib<BR>WHERE attribute = 'treatment_mode' AND value = '<NEW mode treatment>')<BR>GO</P><P><BR><STRONG><U>Example:</U></STRONG><BR>Following script updates and inserts (if not found) treatment modes for CBC.</P><P>UPDATE u_assessment_treat_def_attrib<BR>SET value = 'Lab In-house Int'<BR>WHERE attribute = 'treatment_mode'<BR>AND definition_id IN<BR>(SELECT definition_id FROM u_assessment_treat_def_attrib<BR>WHERE attribute = 'observation_id' AND value IN<BR>('0001164x','DEMO16472'))<BR>GO</P><P><BR>INSERT INTO u_assessment_treat_def_attrib<BR>(definition_id,<BR>attribute,<BR>value<BR>)</P><P>SELECT DISTINCT<BR>definition_id,<BR>'treatment_mode',<BR>'Lab In-house Int'</P><P>FROM u_assessment_treat_def_attrib</P><P>WHERE definition_id IN </P><P>(SELECT definition_id FROM u_assessment_treat_def_attrib<BR>WHERE attribute = 'observation_id' AND value IN<BR>('0001164x','DEMO16472')</P><P>AND definition_id NOT IN <BR>(SELECT definition_id FROM u_assessment_treat_def_attrib<BR>WHERE attribute = 'treatment_mode' AND value = 'Lab In-house Int'))<BR>GO<BR></P></p><h3>Notes</h3><p></p>